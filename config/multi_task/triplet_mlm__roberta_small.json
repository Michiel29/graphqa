{
    "add_configs": ["../roberta/small.json", "../base.json"],

    "tasks": {
        "triplet_inference": {
            "max_sentences": 700,
            "max_tokens": 9500,
            "criterion": "cross_entropy_custom",
            "k_negative": 1,
            "alpha": 0.7,
            "weight": 0
        },
        "masked_lm_em": {
            "max_sentences": 700,
            "max_tokens": 9500,
            "criterion": "masked_lm_custom",
            "mask_prob": 0.15,
            "leave_unmasked_prob": 0.1,
            "random_token_prob": 0.1,
            "freq_weighted_replacement": false,
            "mask_whole_words": true,
            "alpha": 0.7,
            "weight": 1
        }
    },

    "task": "multi_task",
    "arch": "encoder_triplet__roberta_small",

    "entity_dim": 256,
    "encoder_output_layer_type": "entity_start_linear",
    "data_path": "../data/nki/bin-v3-threshold20",
    "restore_file": "../save/task_multi_task/arch_encoder_triplet__roberta_small/lr_1e-05/03m_15d_03h_25m/checkpoints/checkpoint2.pt",

    "mask_type": "start_end",
    "alpha": null,

    "max_epoch": 5,
    "warmup_updates": 2444, // = 10181 * 4 * 0.06
    "total_num_updates": 40724, // = 10181 * 4
    "lr": [1e-5],

    "num_workers": 2,
    "max_sentences": 1536,
    "update_freq": [1],
    "max_tokens": 14000,
    // batch size ~ 2278.7
    "required_batch_size_multiple": 1
}
